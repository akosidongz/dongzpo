---
RecordFieldType:
  type: "string"
  enum: ["A", "AAAA", "CNAME", "MX", "SPF", "TXT"]

Record:
  properties:
    name:
      type: string
      format: hostname
    priority:
      type: integer
      format: int64
      minimum: 0
      maximum: 65535
    data:
      type: "string"

NewRecord:
  allOf:
    - $ref: '#/Record'
    - type: 'object'
      properties:
        type:
          allOf:
            - $ref: '#/RecordFieldType'
            - writeOnly: true

      required:
        - type
        - name
        - data

RecordRead:
  allOf:
    - $ref: '#/Record'
    - type: 'object'
      properties:
        id:
          type: integer
          format: int64
          readOnly: true
        zoneID:
          type: integer
          format: int64
          readOnly: true

        type:
          allOf:
            - $ref: '#/RecordFieldType'
            - readOnly: true

      required:
        - type
        - name
        - data
        - id
        - zoneID
